intset是Redis中用于存储整数集合的数据结构。它是一种紧凑且高效的数据结构，能够在内存中存储一组整数，并且根据整数的类型使用不同的编码方式，包括int16、int32和int64，以节省内存空间。

在Redis中，当一个intset需要插入一个新元素时，会先判断该元素的类型是否超过了当前intset所能存储的最大类型，如果超过了，则会触发升级过程。升级过程会重新分配一个更大的intset，并将原有的元素全部复制到新的intset中，然后再插入新的元素。这样可以确保intset始终选择最适合的编码方式来存储整数，避免浪费内存空间。

至于降级操作，Redis并没有提供直接的降级机制。一旦intset发生了升级，就无法再回到低级别的编码方式。因为降级可能导致数据精度丢失或者造成数据不一致，所以Redis设计上保持了一种"只升级不降级"的策略。因此，在使用intset时，需要根据实际情况选择合适的整数数据范围，避免频繁升级带来的性能损耗。